# Nodejs原生Web Server 实战

### Main Target

+ Web Server 的构成
+ Nodejs作为Web Server的优势
+ Web Server 最小系统



## 01. Web Server 的构成

#### 处理HTTP

对HTTP的动词（GET/POST/PUT）进行响应

#### 路由管理

分别吃力不同URL路径的请求，返回对应的网络资源

#### 静态文件托管

对网络请求的静态资源进行响应或使用模块动态响应请求

#### 文件数据存储

将请求携带的数据存储到文件或者数据库中



### Web Server 的基本架构

+ 简单一点的

```html
Client <==>(HTTP req && res) Web Server <==> DataBase
```

+ 复杂一点的

```html
Client <==>(HTTP req && res) Web Server <==> Application Server <==> DataBase
```





## 02. Nodejs作为Web Server的优势

#### 优势

+ **并发性能优异**

  基于事件驱动的服务在响应请求的场景中有极高的并发性能表现

+ **JavaScript同构**

  减少学习成本，使用最流行的Js或其他可编译/转换为Js的语言均可实现

+ **生态活跃完善**

  npm 提供了数十万个可重用的工具包，提供了一流的依赖解决方案，可实现自动化工具链构建

+ **代码可移植**

  兼容各种操作系统运行环境，一份代码可以运行在多种环境中

+ **框架高度包容**

  Node以及Node的Web框架都拥有天然的包容性，易于拓展和维护

+ **友好的社区氛围**

  丰富的生态诞生了大量的开源社区，聚集了众多的开发人员



## 03. Web Server最小系统

#### 示例代码

```js
const http = require('http')

http.createServer(function(req, res) {
    res.write('hello node')
    res.end()
})
.listen(8080)
```



#### Web Server的构成

1. **处理HTTP**

   对HTTP的动词（GET、POST、PUT、DELETE）进行响应

2. **路由管理**

   分别处理不同URL路径的请求，返回对应的网络资源

3. **静态资源托管**

   对网络请求的静态资源进行响应或使用模板动态响应请求

4. **文件数据存储store**

   将请求携带的数据存储到文件或者数据库中





### 最后小结

+ **Server的构成**

一个Web服务应该包含哪些部分

+ **优势**

Nodejs更适合做 IO 密集型服务

+ **最小系统**

Nodejs原生实现Web服务实战





