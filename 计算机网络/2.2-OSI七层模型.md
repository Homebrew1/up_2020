### 课程目标

+ 面试内容
+ 人文知识
+ 架构思想



### 课程内容

+ OSI 模型简介
+ 结合实际应用思考
+ 深入思考OSI分层架构



## 01. OSI 模型简介

#### OSI七层模型（ISO/IEC  7498-1）

+ 开放式系统互联模型（Open System Interconnection Model）
+ 世界范围内的网络标准 **模型概念**
+ OSI的努力让互联网协议逐渐走向标准化



| OSI参考模型 |           各层的解释           |
| :---------: | :----------------------------: |
|   应用层    |       为应用程序提供服务       |
|   表示层    |     数据格式转化、数据加密     |
|   会话层    |      建立、管理和维护会话      |
|   传输层    | 建立、管理和维护  端到端的连接 |
|   网络层    |        IP选址及路由选择        |
| 数据链路层  |     提供介质访问和链路管理     |
|   物理层    |             物理层             |



#### 国际标准化组织（ISO）

全球分布



#### 1. 应用层（Application Layer）

**提供高级API**

+ 定义了网络主机提供的方法和接口（业务协议、高级协议等）
+ 往往直接对应用户行为
+ 例如：HTTP、FTP（操作文件）、SMTP等



#### 2. 展示层（Presentation Layer）

+ 也被称作 **语法层**
+ 将 Application  Layer 中的数据转化为传输格式，保留语义（如：序列化、加密解密、字符串编码解码等）
+ 确保数据发送取出后可以被接受者理解



#### 3. 会话层（Session Layer）

+ 提供管理会话的方法 （Open/Close/ReOpen/检查状态等）
+ 提供对底层连接断断续续的隐藏，甚至对多种底层流的隐藏（提供数据同步点）



#### 4. 传输层（Transport Layer）

**提供主机到主机（host - to - host）的数据通信能力**

+ 建立连接保证数据封包发送、接收到的顺序一致
+ 提供可靠性（发送者知道数据有没有被完整发送）
+ 提供流控制（发送者和接受者同步速率等）
+ 提供多路复用（多工 ， Multiplexing，多种信号复用一个信道）



#### 5. 网络层（Network  Layer）

**提供数据在逻辑单元（例如IP地址）之间的传递能力**

+ 路由：决定数据的下一站在哪里
+ 寻址：为数据封包增加头信息



#### 6. 数据链路层（Data Link Layer）

**提供数据在设备和设备之间的传输能力**

+ 流控制 ：发送者接受者之间同步数据收发速度和数据量
+ 错误控制：检测数据有没有出错，并重发出错的数据



#### 7. 物理层（Physical Layer）

**定义底层一个个位（bit）的数据如何变成物理信号**

+ 将数据链路层发生的数据传递行为转化为物理设备识别的信号
+ 封装了大量底层物理设备的能力



## 02. 结合实际应用思考

Story - 当 Alice 向Bob 发微信

+ ALice提交的输入被微信存储成某种内部协议格式 --- 应用层
+ 数据被转换成为传输用的格式（如加密、压缩）--- 表示层
+ 微信客户端建立到服务器的连接（也可能之前就建立好了）--- 会话层
+ 微信客户端向服务器传输数据 --- 传输层
+ 一个个数据封包从主机传输到服务器 -- 网络层
+ 数据帧在一个个设备之间传输 --- 数据链路层
+ 数据最终以光电信号的形式在物理设备间传输 --- 物理层



## 03. 架构思想

#### 分层架构（数据视角）

1. 用户数据（应用层、展示层、会话层）
2. 数据封包（传输层）
3. 帧帧帧... (网络层)
4. 二进制（数据链路层）
5. 物理信号（物理层）



+ 把应用分成N层

+ 替换其中一层不影响其他层的工作，不需要重构整个应用

+ 设计要点

  + 必要性、独立性、可替换
  + 层的颗粒度
  + 数据可追踪性

  



### 最后小结

+ OSI是概念模型、同事也是标准
+ 分层， 是最常见的架构手段
+ 后续重点学习的TCP/IP协议群（互联网协议群）受到OSI 的影响



