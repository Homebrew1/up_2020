### Main Target

+ 基于状态的实现
+ 基于操作的实现



## 01. 基于状态的实现

#### 数据结构 - 栈

+ 入栈
+ 出栈
+ 先入后出



undoStack 撤销

redoStack 重做



#### 初始状态

+ undoStack：记录操作之前的document
+ redoStack:：记录撤销之前的document
+ 一开始 undoStack 和 redoStack 都是空的



#### 编辑时

+ 将编辑前的 document 放入 undoStack
+ 将编辑后的 document 设置为当前的 document
+ 清空redoStack



#### 撤销时

+ 将当前document 放入 redoStack
+ 将undoStack顶端的document弹出，设置为当前document

#### 重做时

+ 将当前document放入undoStack
+ 将redoStack顶端的document弹出，设置为当前document



#### 再编辑

+ 在 redoStack 有值时编辑需要将 redoStack 清空



#### 存在的问题

+ 每一步操作都需要保存整个document，比较占内存
+ 多个操作者的情况下，容易产生内容冲突



## 02. 基于操作的实现

